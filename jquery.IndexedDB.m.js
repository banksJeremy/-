(function(){var a,b,c,d,e,f=Object.prototype.hasOwnProperty,g=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1};a=function(a,b){var c,d;a==null&&(a="0123456789ABCDEF"),b==null&&(b=128),c=Math.ceil(a*Math.log(a.length)/Math.log(2));return function(){var b;b=[];for(d=0;0<=c?d<c:d>c;0<=c?d++:d--)b.push(a[Math.random()*a.length|0]);return b}().join("")},console.log(a()),jQuery.IndexedDB=function(){function a(a,b){var c;for(c in b){if(!f.call(b,c))continue;this[c]=new jQuery.IDBObjectStore(a,c)}}return a}(),jQuery.IDBObjectStore=function(){function a(a,b){this.db=a,this.name=b}a.prototype.get=function(a){return new jQuery.IDBResult};return a}(),jQuery.IDBResult=function(){function a(){}a.prototype.next=function(){var a;a=new jQuery.Deferred;return a},a.prototype.each=function(a){return!0};return a}(),jQuery.openDB=function(a,b,c){var d,e;c==null&&(c=!1),d=new jQuery.Deferred,e=indexedDB.open(a),e.onsuccess=function(h){var i,j,k,l,m,n,o,p,q,r,s;i=e.result;if($.isArray(b)){o={};for(r=0,s=b.length;r<s;r++)l=b[r],o[l]=[];b=o}n=[];for(l in b){if(!f.call(b,l))continue;p=b[l],p.sort(),n.push(l)}n.sort(),m="{"+function(){var c;c=[];for(l in b){if(!f.call(b,l))continue;k=b[l],c.push(""+JSON.stringify(a)+":"+JSON.stringify(k))}return c}().join(",")+"}",j=new $.IndexedDB(i,b);if(c||i.version!==m)q=i.setVersion(m),q.onsuccess=function(a){var d,h,k,l,m,n,o;console.log("TODO: Initialize stuff.                Each objectStore has an auto-incrementing ._id.");if(c)for(l=0,n=objectStoreNames.length;l<n;l++)k=objectStoreNames[l],i.deleteObjectStore(k);for(k in b){if(!f.call(b,k))continue;h=b[k],g.call(i.objectStoreNames,k)<0&&i.createObjectStore(k,{keyPath:"_id",autoIncrement:!0});for(m=0,o=h.length;m<o;m++)d=h[m],i.createIndex(k,d,{unique:!1})}return setTimeout(function(){return e.resolve(j)},0)},q.onerror=function(a){return d.reject("Error versioning database.",a)};return setTimeout(function(){return d.resolve(j)},0)},e.onerror=function(a){return d.reject("Error opening database.",a)};return d.promise()},window.indexedDB=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.oIndexedDB||window.mIndexedDB||function(){throw new Error("Fatal Error: IndexedDB is unavailable.")}();for(c in window)(b=/^[a-z]+(IDB.*)$/.exec(c))&&(e=window[d=b[1]])==null&&(window[d]=window[c])}).call(this)